---
---

<button
  id="theme-toggle"
  class="fixed top-4 right-4 z-50 p-2 rounded-lg
         bg-dark-deep-purple/80 dark:bg-light-deep-purple/80 
         backdrop-blur-sm
         border border-dark-neon-purple/20 dark:border-light-neon-purple/20
         transition-all duration-300
         hover:shadow-[0_0_2px_#fff,inset_0_0_2px_#fff,0_0_5px_#B24BF3,0_0_15px_#B24BF3]
         group"
  aria-label="Cambiar tema"
>
  <!-- Sol (modo claro) -->
  <svg 
    xmlns="http://www.w3.org/2000/svg" 
    class="w-6 h-6 text-dark-text dark:text-light-text absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
           rotate-0 scale-100 transition-all dark:-rotate-180 dark:scale-0"
    fill="none" 
    viewBox="0 0 24 24" 
    stroke="currentColor"
  >
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
          d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
  </svg>

  <!-- Luna (modo oscuro) -->
  <svg 
    xmlns="http://www.w3.org/2000/svg" 
    class="w-6 h-6 text-dark-text dark:text-light-text absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
           rotate-180 scale-0 transition-all dark:rotate-0 dark:scale-100"
    fill="none" 
    viewBox="0 0 24 24" 
    stroke="currentColor"
  >
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
          d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
  </svg>
</button>

<script>
  const themeToggle = document.getElementById('theme-toggle');
  const html = document.documentElement;

  // Comprobar preferencia del sistema
  if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
    html.classList.add('dark');
  }

  // Comprobar preferencia guardada
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme) {
    html.classList.toggle('dark', savedTheme === 'dark');
  }

  // Manejar cambio de tema
  themeToggle?.addEventListener('click', () => {
    html.classList.toggle('dark');
    localStorage.setItem('theme', html.classList.contains('dark') ? 'dark' : 'light');
  });
</script>